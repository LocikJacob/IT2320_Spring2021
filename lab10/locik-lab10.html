<html>
<head>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script>
			// script tags might get changed by Blackboard  - FIX THESE

			//Number of words entered
		function GetWordCount(text) { //spaces currently count as words... no bueno

			var x = 0;

			//trim text
			text = text.trim();
		
			if (text != "") {
                //var i holds count value
				for (var i = 0; i <= x; i++) {

					x = text.indexOf(" ", x);

					if (x == -1) {
						return i + 1; // +1 accounts for no space at end of text
					}
					else {
                        //handle multiple spaces
                        while (text.indexOf(" ", x + 1) == x + 1) {
							x += 1;
                        }
                    }

					x += 1;
                }
            }

			return x;
		} 

			//# of search character instances in text
		function GetCharacterInstanceCount(text, char) {

			var x = 0;
			
			if (text != "" && char != "") {
				text = text.toUpperCase();
                
                //var i holds count value
				for (var i = 0; i <= x; i++) {
					x = text.indexOf(char, x);
					if (x == -1) {
						
						return i;
					}

					x += 1; 
                }
			}

			return x;
		}

			//Display text in all caps
		function ConvertTextToAllCaps(text) {
            return text.toUpperCase();
		}

			//display text with search char removed
		function RemoveSearchCharacters(text, char) {

			var x = 0;
			var newText = text.toUpperCase();

			if (text != "" && char != "") {
                //var i holds count value
                for (var i = 0; i <= x; i++) {
					x = newText.indexOf(char, x);

                    //get left half of string, combine with right.
					var leftText = text.substring(0, x);
					var rightText = text.substring(x + 1);
					text = leftText + rightText;
					
                    if (x == -1) {
                        return text;
					}

                    newText = text.toUpperCase();
                }
            }

			return text;
        }

		//modify current date by a # of days
		function ModifyDate(modifier) {

			modifier = Number(modifier); //modifier was a string
			var date = new Date(); //set current date/time
			var temp = modifier + date.getDate();
			date.setDate(temp);

			//create string MM/DD/YYYY
			var month = date.getMonth() + 1;
			var day = date.getDate();
			var year = date.getFullYear();

			if (month < 10) {
				month = "0" + month;
			}
			var dateString = month + "/";
			if (day < 10) {
				day = "0" + day;
			}
			dateString += day + "/" + year;

			return dateString;
        }

		$(document).submit(function () {
			$("#wordCount").text(GetWordCount($("#textArea").val()));
			$("#searchCharCount").text(GetCharacterInstanceCount($("#textArea").val(), $("#searchChar").val()));
            $("#textAllCaps").text(ConvertTextToAllCaps($("#textArea").val()));
            $("#textNoSearchChar").text(RemoveSearchCharacters($("#textArea").val(), $("#searchChar").val()));
            $("#modifiedDate").text(ModifyDate($("#numDays").val()));

			return false;
		});

	</script>
	<style>
		table {
			border-collapse: separate;
			border-spacing: 15px;
		}
	</style>
</head>
<body>
<h2>Jacob Locik - IT 2320 - Lab 10</h2>
<h3>Working with Strings and Dates</h3>
<form>
<table>
	<tr>
		<td>Select the <strong>Search Character</strong>:</td><td><select id="searchChar">
		                               <option value=""></option>
								       <option value="A">A</option>
								       <option value="B">B</option>
                                       <option value="C">C</option>
                                       <option value="D">D</option>
                                       <option value="E">E</option>
                                       <option value="F">F</option>	                                   
									   <option value="G">G</option>
                                       <option value="H">H</option>
                                       <option value="I">I</option>
                                       <option value="J">J</option>
                                       <option value="K">K</option>
                                       <option value="L">L</option>
                                       <option value="M">M</option>
                                       <option value="N">N</option>
                                       <option value="O">O</option>
                                       <option value="P">P</option>
                                       <option value="Q">Q</option>
                                       <option value="R">R</option>
                                       <option value="S">S</option>
                                       <option value="T">T</option>
                                       <option value="U">U</option>
                                       <option value="V">V</option>
                                       <option value="W">W</option>
                                       <option value="X">X</option>
                                       <option value="Y">Y</option>
                                       <option value="Z">Z</option>
								   </select>
								</td>
	</tr>
	<tr>
	    <td>Type or paste in some text:</td>
		<td><textarea id="textArea" cols="40" rows="15"></textarea></td>
	</tr>
	<tr>
	    <td>Date Modifier - Number of Days:</td><td><input type="number" id="numDays" ></td>
	</tr>
    <tr>
	    <td>Number of words entered:</td>
	    <td id="wordCount"> **** </td>
	</tr>
	<tr>
	    <td>Number of occurances of the search character:</td>
	    <td id="searchCharCount"> **** </td>
	</tr>
    <tr>
	    <td>Display the entered text in <strong>ALL CAPS</strong>:</td>
	    <td id="textAllCaps"> **** </td>
	</tr>
    <tr>
	    <td>Display the entered text with the search character <strong>removed</strong>:</td>
	    <td id="textNoSearchChar"> **** </td>
	</tr>
    <tr>
	    <td>Add the number of days in Date Modifier to the current date<br/>Display the resulting date as MM/DD/YYYY:</td>
	    <td id="modifiedDate"> **** </td>
	</tr>
	<tr>
		   <td><input type="reset" id="reset" name="reset" value="Reset"></td>
           <td><input type="submit" id="submit" name="submit" value="Submit"></td>
	</tr>

</table>
</form>
</body>

</html>